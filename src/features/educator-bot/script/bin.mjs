import { config } from 'dotenv';
import { MongoClient, ObjectId } from 'mongodb';
import { join } from 'node:path';
import { cwd, env } from 'node:process';

const titles = [
  'קומוניזם – שיטה שבה כל הרכוש הוא ציבורי, וכל אדם עובד ומקבל שכר לפי צרכיו',
  'פשיזם – שיטה פוליטית ימנית קיצונית המדגישה לאומנות ושלטון רודני',
  'סוציאליזם – שיטה שבה הממשלה או הקהילה מחזיקים בבעלות על תעשיות ושירותים מרכזיים',
  'קפיטליזם – מערכת כלכלית שבה עסקים נשלטים על ידי אנשים פרטיים ולא על ידי המדינה',
  'דמוקרטיה – שיטת ממשל שבה האזרחים בוחרים נציגים או מצביעים ישירות על חוקים',
  'רפובליקה – צורת שלטון שבה נבחרי ציבור מנהלים את המדינה ולא מלוכה',
  'שלטון סמכותני – מערכת שבה שליט יחיד או קבוצה קטנה מחזיקים בכוח בלתי מוגבל',
  'המלחמה הקרה – תקופה של מתיחות פוליטית בין ארצות הברית לברית המועצות',
  'המהפכה הצרפתית – מהפכה שהתרחשה בסוף המאה ה-18 והובילה להפלת המלוכה בצרפת',
  'אינפלציה – עליית מחירים כללית במשק לאורך זמן',
  'מיתון – תקופה של ירידה בפעילות הכלכלית, הכוללת צמצום במסחר ותעשייה',
  'היצע וביקוש – עיקרון כלכלי שבו מחירים נקבעים על פי זמינות הסחורה ודרישת הצרכנים',
  'מונופול – מצב שבו חברה אחת שולטת בשוק ומונעת תחרות',
  'תוצר מקומי גולמי (תמ"ג) – הערך הכולל של כל המוצרים והשירותים שמדינה מייצרת בשנה',
  'מחשוב קוונטי – סוג של מחשוב המשתמש במכניקת הקוונטים לביצוע חישובים מורכבים במהירות עצומה',
  'שינוי אקלים – שינוי ארוך טווח בדפוסי מזג האוויר, לרוב כתוצאה מפעילות אנושית',
  "תורת האבולוציה – התיאוריה של צ'ארלס דרווין על התפתחות המינים באמצעות ברירה טבעית",
  'השיטה המדעית – גישה שיטתית למחקר הכוללת תצפיות, ניסויים ובדיקת השערות',
  'אקזיסטנציאליזם – פילוסופיה המדגישה חירות אישית ואחריות אישית של האדם',
  'תועלתנות – רעיון לפיו יש לפעול כך שהתוצאה תביא את מרב האושר למספר הגדול ביותר של אנשים',
  'רצון חופשי מול דטרמיניזם – הדיון על האם לאנשים יש שליטה בבחירותיהם או שהכול קבוע מראש',
  'רלטיביזם מוסרי – האמונה שאין מוסר אוניברסלי, אלא שהמוסר תלוי בהקשר התרבותי או האישי',
  'סטואיות – פילוסופיה עתיקה המדגישה שליטה עצמית, חשיבה רציונלית והתמקדות במה שניתן לשלוט בו',
  'מלחמת העולם הראשונה – סכסוך עולמי שהתרחש בין 1914 ל-1918, בעיקר באירופה',
  'מלחמת העולם השנייה – מלחמה עולמית (1939–1945) בין מדינות הציר לבעלות הברית',
  'תנועת זכויות האזרח – מאבק בארה"ב (בשנות ה-50 וה-60) למען שוויון זכויות לשחורים',
  'המהפכה התעשייתית – מעבר מהחקלאות לתעשייה שהתרחש בין המאה ה-18 ל-19',
  'הרנסנס – תקופה של פריחה תרבותית באירופה (המאה ה-14 עד ה-17) בתחום האמנות, המדע והפילוסופיה',
  'דיסוננס קוגניטיבי – תחושת חוסר נוחות כאשר יש לאדם אמונות או ערכים סותרים',
  'הטיית אישור – נטייה להעדיף מידע שתואם את האמונות הקיימות שלנו',
  'התניה חברתית – הדרך שבה החברה מעצבת את ההתנהגויות והאמונות של אנשים',
  'היגיינת שינה – הרגלים לשיפור איכות השינה, כמו צמצום זמן מסכים לפני השינה',
  'האזור הכחול – אזורים בעולם שבהם אנשים חיים חיים ארוכים ובריאים יותר בגלל אורח חייהם',
  'אנרכיזם – פילוסופיה פוליטית השואפת לחברה ללא ממשלה או שלטון מרכזי',
  'לאומנות – אידיאולוגיה המדגישה עליונות וזהות לאומית חזקה',
  'גלובליזציה – תהליך שבו העולם נהיה יותר מקושר כלכלית, תרבותית ופוליטית',
  'ברקזיט – יציאתה של בריטניה מהאיחוד האירופי',
  'משטר צבאי – מצב שבו הצבא משתלט על ניהול המדינה',
  'אוליגרכיה – שלטון בידי קבוצה קטנה של אנשים עשירים או בעלי כוח',
  'פרופגנדה – שימוש במידע מוטה כדי להשפיע על דעת הקהל',
  'ממשלת צללים – קבוצה פוליטית המתפקדת כאלטרנטיבה לממשלה הנוכחית',
  'פוליטיקה של זהויות – התמקדות בזכויות והעדפות של קבוצות מסוימות בחברה',
  'חוקה גמישה מול חוקה קשיחה – ההבדל בין חוקה שקל לשנותה לבין חוקה הדורשת תהליכים מיוחדים',
  'קריפטוגרפיה – תורת ההצפנה, בעיקר בהקשר של מטבעות דיגיטליים כמו ביטקוין',
  'מיסוי פרוגרסיבי – מערכת שבה שיעור המס עולה עם גובה ההכנסה',
  'מדד המחירים לצרכן (CPI) – מדד כלכלי שמודד את עליית המחירים של מוצרי צריכה',
  'בועת נדל"ן – מצב שבו מחירי הדירות עולים בצורה מלאכותית עד לקריסה כלכלית',
  'כלכלה התנהגותית – חקר השפעת הפסיכולוגיה על החלטות כלכליות',
  'ננוטכנולוגיה – טכנולוגיה העובדת בקנה מידה של אטומים ומולקולות',
  'ביוטכנולוגיה – שימוש במדע החיים לפיתוח מוצרים רפואיים ותעשייתיים',
  'האינטרנט של הדברים (IoT) – חיבור חפצים יומיומיים לרשת האינטרנט',
  'עריכת גנים (CRISPR) – טכנולוגיה לשינוי ה-DNA של יצורים חיים',
  'תורת הייחסות',
  'תורת הקוונטים',
  'תאוריית המיתרים – תאוריה בפיזיקה שמנסה לאחד בין תורת הקוונטים ותורת היחסות',
  'הדילמה של הקרונית – ניסוי מחשבתי על מוסריות והצלת חיים',
  'השיעה והסונה – שני הזרמים המרכזיים באסלאם',
  'דיסטופיה מול אוטופיה – תיאורי חברה עתידית שלילית (כמו "1984") לעומת אידיאלית',
  'רפואה פונקציונלית – גישה רפואית המתמקדת בשורש הבעיות הבריאותיות ולא רק בסימפטומים',
  'פסיכופתיה מול סוציופתיה – הבדלים בין הפרעות אישיות אנטי-חברתיות',
  'אינטליגנציה רגשית (EQ) – היכולת לזהות, להבין ולנהל רגשות',
  'הטיית השליליות – נטייה לזכור ולהגיב חזק יותר לאירועים שליליים מאשר לחיוביים',
  'דרך המשי – נתיב סחר היסטורי שחיבר בין אסיה לאירופה',
  'האינקוויזיציה – מערכת חקירה דתית ששימשה בכנסייה הקתולית לרדיפת כפירה',
  'המרד הגדול (66–70 לספירה) – המרד של היהודים נגד האימפריה הרומית',
  'הקולוניאליזם האירופי – תקופה שבה מדינות אירופה השתלטו על שטחים ברחבי העולם',
  'השפל הגדול (1929) – המשבר הכלכלי החמור ביותר במאה ה-20',
];

class TopicService {
  topicCollection;

  constructor(client, dbName) {
    this.topicCollection = client.db(dbName).collection('Topic');
  }

  async createTopic(title) {
    const topic = {
      _id: new ObjectId(),
      title,
      status: 'pending',
      createdAt: new Date(),
    };
    return this.topicCollection.insertOne(topic);
  }

  async insertTopics(titles) {
    for (const title of titles) {
      try {
        const result = await this.createTopic(title);
        console.log(`Inserted topic with ID: ${result.insertedId}`);
      } catch (error) {
        console.error(`Failed to insert title "${title}":`, error);
      }
    }
  }
}

async function main() {
  config({ path: join(cwd(), 'env.serve') });
  const client = new MongoClient(env.MONGO_URI);

  try {
    await client.connect();
    console.log('Connected to MongoDB.');

    const topicService = new TopicService(client, 'Educator');
    await topicService.insertTopics(titles);

    console.log('All topics inserted.');
  } catch (error) {
    console.error('Error during insertion:', error);
  } finally {
    await client.close();
    console.log('Disconnected from MongoDB.');
  }
}

main().catch(console.error);
